

<div class="form-group span-left" style="width: 30rem;">
    <input type="text" value="<?= $record['process_link'] ?>" id="process_link<?= $record['id'] ?>" value="" class="form-control" />
    <br />
	<button
		style="margin-bottom: 2%"
		onclick="updateProcessLink(<?= $record['id'] ?>)"
		id="btn-save-<?= $record['id'] ?>"
		class="btn <?= $record['status'] ? 'btn-primary' : 'btn-default'  ?> btn-xs">LÆ°u
	</button>
</div>
<br />

	

<div style="display: inline-block;" class="loading-indicator-container action-spinner" id="btn-loader-<?= $record['id'] ?>">
    <div style="padding: 0" class="loading-indicator size-small">
        <span></span>
    </div>
</div>

<script type="text/javascript">
	$('.action-spinner').hide()

	function updateProcessLink (id) {

		$('#btn-loader-' + id).show()

		$.request('onUpdateMovieRequest', {
			data: {
				field: 'status',
				id: id,
				process_link: $('#process_link' + id).val()
			},
			success: function(data) {

				data = JSON.parse(data.result)

				if (data.status == 1)
					$('#btn-save-' + id).addClass('btn-primary')

				$('#btn-loader-' + id).hide()
			},
			error: function () {

				$('#btn-loader-' + id).hide()
			}
		})
	}

</script>